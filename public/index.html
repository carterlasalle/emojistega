<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Emoji Data Encoder/Decoder</title>
  <style>
    body { font-family: sans-serif; padding: 20px }
    .section { margin-bottom: 40px }
    label { display: block; margin-top: 10px }
    textarea, input { width: 100%; max-width: 500px }
    button { margin-top: 10px }
    pre { background: #f4f4f4; padding: 10px }
  </style>
</head>
<body>
  <div class="section">
    <h2>Encode</h2>
    <label for="base-char">Base Character (default: ðŸ˜Š):</label>
    <input type="text" id="base-char" value="ðŸ˜Š" maxlength="2">
    <label for="message">Message:</label>
    <textarea id="message" rows="4"></textarea>
    <button id="encode-btn">Encode</button>
    <h3>Encoded Output:</h3>
    <pre id="encoded-output"></pre>
  </div>

  <div class="section">
    <h2>Decode</h2>
    <label for="encoded-input">Encoded Emoji String:</label>
    <textarea id="encoded-input" rows="4"></textarea>
    <button id="decode-btn">Decode</button>
    <h3>Decoded Message:</h3>
    <pre id="decoded-output"></pre>
  </div>

  <script>
    document.getElementById('encode-btn').addEventListener('click', async () => {
      const base = document.getElementById('base-char').value || 'ðŸ˜Š'
      const message = document.getElementById('message').value
      const res = await fetch('/encode', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ base, message })
      })
      const data = await res.json()
      document.getElementById('encoded-output').textContent = data.encoded || data.error
    })

    document.getElementById('decode-btn').addEventListener('click', async () => {
      const encoded = document.getElementById('encoded-input').value
      const res = await fetch('/decode', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ encoded })
      })
      const data = await res.json()
      document.getElementById('decoded-output').textContent = data.decoded || data.error
    })
  </script>
</body>
</html> 